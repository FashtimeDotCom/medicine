var smppv={};
(function(a){function o(){a(".smpevent").bind("click",function(){var c=b(a(this).data("smpposition")),e=b(a(this).data("smpaction")),d=b(a("#dda_type").val()),c=n()+"&dda_type="+d+"&dda_position="+c+"&dda_action="+e;(0===a(".smpcheckbox").length||0<a(".smpcheckbox").filter(":checked").length)&&k(c)})}function p(){var a="http://pv.zhaopin.cn/track_rv.gif?",b=document.location.href,d=document.referrer,l,m;l=(m=RegExp("(?:^| )dywea=([^;]*)(?:;|$)","gi").exec(document.cookie))?unescape(m[1]):"";a+="dda_path="+
f(b)+"&";a+="dda_pathref="+f(d)+"&";return a+("dda_dywea="+l+"&")}function n(){var c=p(),e=b(a("#dda_cvid").val()),d=b(a("#dda_operatorid").val()),l=b(a("#dda_companyid").val()),m=b(a("#dda_source").val()),g=b(a("#dda_xtable").val()),h=b(a("#dda_ownerid").val()),i=b(a("#dda_kpi").val()),k=b(a("#dda_custom").val());0<a(".smpcheckbox").filter(":checked").length&&(g=i=h=e="",a(".smpcheckbox").filter(":checked").each(function(){e+=","+a(this).data("smpcvid");h+=","+a(this).data("smpownerid");i+=","+a(this).data("smpkpi");
g+=","+a(this).data("smpxtable")}),0<e.length&&(e=e.substr(1),h=h.substr(1),i=i.substr(1),g=g.substr(1)));c=c+("dda_operatorid="+d+"&")+("dda_companyid="+l+"&")+("dda_source="+f(/\w/g.test(g)?g:m)+"&");c+="dda_cvids="+f(e)+"&";c+="dda_owners="+f(h)+"&";c+="dda_kpi="+f(i)+"&";return c+("dda_custom="+k)}function k(a){var b=new Image(1,1),a=a+("&t="+(new Date).getTime());b.src=a}function b(a){return void 0!==a?a:""}smppv.pageView=function(){var c=b(a("#dda_position").val()),e=b(a("#dda_action").val()),
e=n()+"&dda_type=cvbrowse&dda_position="+c+"&dda_action="+e;a(document).keydown(function(d){d.ctrlKey&&67===d.keyCode&&k(n()+"&dda_type="+b(a("#dda_type").val())+"&dda_position="+c+"&dda_action=copyresume")});k(e)};smppv.btnReBind=o;var f=encodeURIComponent;("-1">=document.location.pathname.indexOf("viewone")||"-1">=document.location.pathname.indexOf("viewmany"))&&o();a(".smpeventother").live("click",function(){var c=b(a(this).data("smpposition")),e=b(a(this).data("smpaction")),d=a(this).closest("tr").prev().find("input"),
l=b(d.data("smpcvid")),m=b(d.data("smpownerid")),g=b(d.data("smpkpi")),d=b(d.data("smpxtable")),h=b(a("#dda_operatorid").val()),i=b(a("#dda_companyid").val()),n=b(a("#dda_source").val()),o=b(a("#dda_type").val()),q=b(a("#dda_custom").val()),j=p(),j=j+("dda_operatorid="+h+"&")+("dda_companyid="+i+"&")+("dda_source="+(""!==d?d:n)+"&")+("dda_cvids="+f(l)+"&"),j=j+("dda_owners="+f(m)+"&"),j=j+("dda_type="+o+"&")+("dda_kpi="+f(g)+"&");k(j+("dda_custom="+q)+("&dda_position="+c+"&dda_action="+e))})})(jQuery);
